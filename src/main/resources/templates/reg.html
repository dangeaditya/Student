<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>list</title>
    <link rel="stylesheet" href="/assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/fonts/ionicons.min.css">
    <link rel="stylesheet" href="/assets/css/Animated-Menu-Icon.css">
    <link rel="stylesheet" href="/assets/css/Data-Table-with-Search-Sort-Filter-and-Zoom-using-TableSorter.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.2/css/theme.bootstrap_4.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css">
    <link rel="stylesheet" href="/assets/css/Login-Form-Basic-icons.css">
    <link rel="stylesheet" href="/assets/css/Multi-step-form.css">
    <script>
        function filterTbl(input) {
		  var input, filter, table, tr, td, cell, i, j;
		  input = document.getElementById("tSearch");
		  filter = input.value.toUpperCase();
		  table = document.getElementById("tbl");
		  tr = table.getElementsByTagName("tr");
		  for (i = 1; i < tr.length; i++) {
		    // Hide the row initially.
		    tr[i].style.display = "none";

		    td = tr[i].getElementsByTagName("td");
		    for (var j = 0; j < td.length; j++) {
		      cell = tr[i].getElementsByTagName("td")[j];
		      if (cell) {
		        if (cell.innerHTML.toUpperCase().indexOf(filter) > -1) {
		          tr[i].style.display = "";
		          break;
		        }
		      }
		    }
		  }
		}
    </script>



</head>


<body style="margin-top: 140px;">

<nav class="navbar navbar-light" style="background-color: #969bd9;">
    <span class="navbar-brand">Home Page</span>

    <div id="navbar" class="collapse navbar-collapse">

        <ul class="nav navbar-nav navbar-right">
            <li sec:authorize="isAuthenticated()"><a th:href="@{/logout}">Logout</a></li>
        </ul>
        <ul class="nav navbar-nav">
            <li sec:authorize="isAuthenticated()"><a th:href="@{/topic/all}"><n1>Topics</n1></a></li>
        </ul>
    </div>
</nav>

</div>
    <div class="modal fade" role="dialog" tabindex="-1" id="modal-1">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header" align="center">
                    <h4 class="modal-title" >ADD NEW STUDENT</h4><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="col-auto col-md-6 col-xl-11" style="width: 100%;">
                        <div class="card text-center mb-5">
                            <div class="card-body d-flex flex-column align-items-center">
                                <div class="bs-icon-xl bs-icon-circle bs-icon-primary bs-icon my-4"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-person">
                                        <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"></path>
                                    </svg></div>
                                <form class="text-center" method="post" action="/reg/save/" th:object="${StudentEnity}" enctype="multipart/form-data">

                                    <div class="mb-3"><input class="form-control" type="text" name="name" placeholder="Name" required></div>

                                    <select name="branch" class="form-control mb-3" >
                                        <option value="">--Please choose an option--</option>
                                        <option value="computer"> Computer </option>
                                        <option value="civil"> Civil </option>
                                        <option value="food"> Food </option>
                                        <option value="mechanical"> Mechanical </option>
                                        <option value="electrical"> Electrical </option>
                                        <option value="electronics"> Electronics </option>
                                    </select>

                                        <div class="mb-3"><input class="form-control" type="number" name="rollno"  placeholder="Roll Number" inputmode="numeric" required></div>
                                    <div class="mb-3"><input class="form-control" type="file" name="file" accept="image/*," required></div>
                                    <button class="btn btn-light" type="reset" data-bs-dismiss="modal">Reset</button>
                                    <button class="btn btn-light" type="submit" data-bs-dismiss="modal">submit</button>


                                </form>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <div class="row justify-content-center" style="margin-top: 100px;">
        <div class="col-xl-10 col-xxl-9">
            <div class="card shadow">
                <div class="card-header d-flex flex-wrap justify-content-center align-items-center justify-content-sm-between gap-3"><a class="btn btn-primary text-center" role="button" style="margin-right: 547px;" data-bs-target="#modal-1" data-bs-toggle="modal"><i class="icon ion-person-add text-start" style="font-size: 26px;"></i></a>
                    <div class="input-group input-group-sm text-center w-auto"><input class="form-control align-items-center" type="text"  id="tSearch" onkeyup="filterTbl()"><button class="btn btn-outline-primary btn-sm" type="button"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-search mb-1">
                                <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path>
                            </svg></button></div>
                </div>
                <div class="card-body">
                    <div class="table-responsive" style="border-width: 1px;border-style: solid;">
                        <table  id="tbl" class="table table-striped table-hover">
                            <thead>
                                <tr>
                                    <th rowspan="id">ID</th>
                                    <th rowspan="firstname">Name</th>
                                    <th>Branch</th>
                                    <th>Roll No.</th>

                                    <th class="text-center">Image</th>
                                    <th class="text-center">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr th:each="stu :${listEmp}"
                                    th:classappend="${stu.branch=='civil'} ? 'table-danger text-danger' :
                                    (${stu.branch=='computer'} ? 'table-success text-success' :
                                    (${stu.branch=='food'} ? 'table-info text-info' :
                                    (${stu.branch=='mechanical'} ? 'table-primary text-primary' :
                                    (${stu.branch=='electrical'} ? 'table-secondary text-dark' :
                                    (${stu.branch=='electronics'} ? 'table-light text-light' : 'table-active text-active'))))) ">
                                    <td class="text-truncate" style="max-width: 200px;" th:text="${stu.id}"></td>
                                    <td class="text-truncate" style="max-width: 200px;" th:text="${stu.name}"></td>
                                    <td class="text-truncate" style="max-width: 200px;" th:text="${stu.branch}"></td>
                                    <td class="text-truncate" style="max-width: 200px;" th:text="${stu.rollno}"></td>
                                    <td class="text-center"> <img th:src="@{/assets/img/{fileName}/(fileName = ${stu.id + '.' +stu.stuext})}" height="50px" width="80px"> </td>

                                    <td class="text-center"><a class="btn btn-danger" role="button" th:href="@{/stu/delete/{stuid}/(stuid=${stu.id})}" ><i class="icon ion-trash-b"></i></a></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>




                <div class="card-footer">
                    <nav>
                        <ul class="pagination pagination-sm mb-0 justify-content-center">
                            <li class="page-item" th:classappend="${(curPage == 1)} ? 'disabled'">
                                <a class="page-link" aria-label="Previous" th:href="@{/reg/{curPage}/(curPage=${curPage-1})}">
                                    <span aria-hidden="true">«</span>
                                </a>
                            </li>


                            <li class="page-item" th:classappend="${(pageNo == curPage)} ? 'active'" th:each="pageNo : ${#numbers.sequence(1, totalPages)}">
                                <a class="page-link" th:href="@{/reg/{curPage}/(curPage=${pageNo})}" th:text="${pageNo}"></a>
                            </li>


                            <li class="page-item" th:classappend="${(curPage == totalPages)} ? 'disabled'">
                                <a class="page-link" aria-label="Next" th:href="@{/reg/{curPage}/(curPage=${curPage+1})}">
                                    <span aria-hidden="true">»</span>
                                </a>
                            </li>

                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>
    <script src="/assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="/assets/js/Data-Table-with-Search-Sort-Filter-and-Zoom-using-TableSorter-tablesortermain.js"></script>
    <script src="https://cdn.datatables.net/1.10.15/js/dataTables.bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.2/js/jquery.tablesorter.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.2/js/widgets/widget-filter.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.2/js/widgets/widget-storage.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/js/bootstrap.bundle.min.js"></script>
    <script src="/assets/js/Multi-step-form-script.js"></script>
</body>

</html>